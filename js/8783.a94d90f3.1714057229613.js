"use strict";(self.webpackChunkpolkaswap_exchange_web=self.webpackChunkpolkaswap_exchange_web||[]).push([[8783],{68783:function(t,s,e){e.r(s),e.d(s,{default:function(){return g}});var o=e(23166),i=(e(70560),e(70655)),a=e(59739),n=e(36930),r=e(22620),l=e(86860),u=e(55422),c=e(89445),d=e(89334),p=e(68282),m=e(69781),b=e(49053),k=e(25118);const v={[a.LiquiditySourceTypes.XYKPool]:"XYK Pool",[a.LiquiditySourceTypes.MulticollateralBondingCurvePool]:"TBC Pool",[a.LiquiditySourceTypes.XSTPool]:"XST Pool",[a.LiquiditySourceTypes.OrderBook]:"Order Book"};let _=class extends((0,c.Wr)(r.tA.FormattedAmountMixin,d.Z)){constructor(...t){super(...t),(0,o.Z)(this,"distribution",void 0),(0,o.Z)(this,"fromValue",void 0),(0,o.Z)(this,"toValue",void 0),(0,o.Z)(this,"getAsset",void 0),(0,o.Z)(this,"tokenFrom",void 0),(0,o.Z)(this,"tokenTo",void 0)}get swapPaths(){const t=[];return this.distribution.forEach(((s,e,o)=>{const i=[];let a=n.FPNumber.ZERO,r=n.FPNumber.ZERO;const l=this.getAsset(s[0].input),u=this.getAsset(s[0].output);s.forEach((t=>{const s=t.income,e=t.outcome,o=this.getFPNumberFiatAmountByFPNumber(s,l)??n.FPNumber.ZERO,c=this.getFPNumberFiatAmountByFPNumber(e,u)??n.FPNumber.ZERO,d=(0,k.gb)(o,c).toFixed(2);a=a.add(s),r=r.add(e),i.push({income:s.toLocaleString(),outcome:e.toLocaleString(),fee:t.fee.toLocaleString(),source:v[t.market],fiatDifference:d})})),t.push({input:l,output:u,amount:a.toLocaleString(),sources:i}),e===o.length-1&&t.push({input:u,amount:r.toLocaleString(),sources:[]})})),t}};(0,i.__decorate)([b.SB.swap.distribution],_.prototype,"distribution",void 0),(0,i.__decorate)([b.SB.swap.fromValue],_.prototype,"fromValue",void 0),(0,i.__decorate)([b.SB.swap.toValue],_.prototype,"toValue",void 0),(0,i.__decorate)([b.Yn.assets.assetDataByAddress],_.prototype,"getAsset",void 0),(0,i.__decorate)([b.Yn.swap.tokenFrom],_.prototype,"tokenFrom",void 0),(0,i.__decorate)([b.Yn.swap.tokenTo],_.prototype,"tokenTo",void 0),_=(0,i.__decorate)([(0,c.wA)({components:{SSkeleton:l.s,SSkeletonItem:u.L,TokenLogo:r.wx.TokenLogo,FormattedAmount:r.wx.FormattedAmount,BaseWidget:(0,m.kF)(p.z8.BaseWidget),ValueStatusWrapper:(0,m.kF)(p.z8.ValueStatusWrapper)}})],_);var h=_,g=(0,e(1001).Z)(h,(function(){var t=this,s=t._self._c;t._self._setupProxy;return s("base-widget",{attrs:{title:t.t("swap.route")}},[s("s-skeleton",{attrs:{loading:!t.swapPaths.length},scopedSlots:t._u([{key:"template",fn:function(){return[s("div",{staticClass:"distribution"},[s("div",{staticClass:"distribution-step"},[s("div",{staticClass:"distribution-asset"},[t.tokenFrom?[s("token-logo",{staticClass:"distribution-asset-logo",attrs:{token:t.tokenFrom,size:"small"}}),s("span",{staticClass:"distribution-asset-amount"},[t._v(t._s(t.fromValue)+" "+t._s(t.tokenFrom.symbol))])]:t._e()],2),s("div",{staticClass:"distribution-path"},[s("span",{staticClass:"distribution-path-line"}),s("div",{staticClass:"distribution-path-sources"},[s("div",{staticClass:"distribution-path-source"},[s("div",{staticClass:"flex-cell"},[s("s-skeleton-item",{staticClass:"distribution-path-source-name",attrs:{element:"rect"}}),s("s-skeleton-item",{staticClass:"distribution-path-source-change",attrs:{element:"rect"}})],1),s("div",{staticClass:"flex-cell"},[s("s-skeleton-item",{attrs:{element:"circle"}}),s("s-skeleton-item",{attrs:{element:"rect"}}),s("s-skeleton-item",{attrs:{element:"circle"}}),s("s-skeleton-item",{attrs:{element:"rect"}})],1)])])])]),s("div",{staticClass:"distribution-step"},[s("div",{staticClass:"distribution-asset"},[t.tokenTo?[s("token-logo",{staticClass:"distribution-asset-logo",attrs:{token:t.tokenTo,size:"small"}}),s("span",{staticClass:"distribution-asset-amount"},[t._v(t._s(t.toValue)+" "+t._s(t.tokenTo.symbol))])]:t._e()],2)])])]},proxy:!0}])},[s("ul",{staticClass:"distribution"},t._l(t.swapPaths,(function({input:e,output:o,amount:i,sources:a}){return s("li",{key:e.address,staticClass:"distribution-step"},[s("div",{staticClass:"distribution-asset"},[s("token-logo",{staticClass:"distribution-asset-logo",attrs:{token:e,size:"small"}}),s("span",{staticClass:"distribution-asset-amount"},[t._v(t._s(i)+" "+t._s(e.symbol))])],1),a.length?s("div",{staticClass:"distribution-path"},[s("span",{staticClass:"distribution-path-line"}),s("div",{staticClass:"distribution-path-sources"},t._l(a,(function({source:i,income:a,outcome:n,fiatDifference:r}){return s("div",{key:i,staticClass:"distribution-path-source"},[s("div",{staticClass:"flex-cell"},[s("span",{staticClass:"distribution-path-source-name"},[t._v(t._s(i)+":")]),s("value-status-wrapper",{staticClass:"distribution-path-source-change",attrs:{value:r}},[s("formatted-amount",{attrs:{value:t.formatStringValue(r)}},[t._v("%")])],1)],1),s("div",{staticClass:"flex-cell"},[s("div",{staticClass:"flex-cell"},[s("token-logo",{attrs:{token:e,size:"mini"}}),t._v(t._s(a))],1),t._v(" â†’ "),s("div",{staticClass:"flex-cell"},[s("token-logo",{attrs:{token:o,size:"mini"}}),t._v(t._s(n))],1)])])})),0)]):t._e()])})),0)])],1)}),[],!1,null,"dec81052",null).exports}}]);