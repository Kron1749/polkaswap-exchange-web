"use strict";(self.webpackChunkpolkaswap_exchange_web=self.webpackChunkpolkaswap_exchange_web||[]).push([[7662],{87662:function(t,a,s){s.r(a),s.d(a,{default:function(){return v}});var i=s(70655),e=s(69282),n=s.n(e),o=s(36930),r=s(22620),l=s(89445),u=s(68282),d=s(69781),c=s(50961),w=s(19316),h=s(93838),m=s(50149);let g=class extends((0,l.Wr)(m.Z,r.tA.DialogMixin,r.tA.LoadingMixin)){get title(){return this.t("soraStaking.allWithdrawsDialog.title")}get allWithdraws(){return this.accountLedger?.unlocking??null}get withdraws(){if(!this.allWithdraws||!this.stakingAsset)return[];const t=this.allWithdraws.map((t=>{const a=t.value,s=t.era,i=Math.max((t.era-this.currentEra)*h.Cc,0);return{era:s,value:o.FPNumber.fromCodecValue(a),countdownHours:i}})),a=t.filter((t=>t.countdownHours<=0)),s=t.filter((t=>t.countdownHours>0)),i=a.reduce(((t,a)=>t.add(a.value)),o.FPNumber.ZERO),e=a.length?{era:a[0].era,value:i,countdownHours:0}:null;return[...e?[e]:[],...s].map((t=>{n()(this.stakingAsset);const a=(0,c.Gc)(t.value),s=this.getFiatAmountByFPNumber(this.withdrawableFunds,this.stakingAsset);return{...t,id:t.era,valueFormatted:a,valueFiat:s}}))}get noReward(){return!this.withdraws.length}};g=(0,i.__decorate)([(0,l.wA)({components:{TokenInput:(0,d.kF)(u.z8.TokenInput),ValidatorAvatar:(0,w.qU)(h.Jh.ValidatorAvatar),EraCountdown:(0,w.qU)(h.Jh.EraCountdown),DialogBase:r.wx.DialogBase,InfoLine:r.wx.InfoLine,FormattedAmount:r.wx.FormattedAmount,TokenLogo:r.wx.TokenLogo,FormattedAmountWithFiatValue:r.wx.FormattedAmountWithFiatValue}})],g);var f=g,v=(0,s(1001).Z)(f,(function(){var t=this,a=t._self._c;t._self._setupProxy;return a("dialog-base",{attrs:{visible:t.isVisible,title:t.title},on:{"update:visible":function(a){t.isVisible=a}}},[a("div",{staticClass:"all-withdraws-dialog"},[a("s-scrollbar",{staticClass:"all-withdraws-scrollbar"},t._l(t.withdraws,(function(s){return a("s-card",{key:s.id,staticClass:"withdraw",attrs:{"border-radius":"medium",shadow:"always",size:"mini"}},[a("div",{staticClass:"withdraw-content"},[a("token-logo",{staticClass:"withdraw-logo",attrs:{tokenSymbol:t.stakingAsset?.symbol}}),a("formatted-amount-with-fiat-value",{staticClass:"amount",attrs:{"asset-symbol":t.stakingAsset?.symbol,"symbol-as-decimal":"","value-can-be-hidden":"",value:s.valueFormatted,"fiat-value":t.withdrawableFundsFiat}}),a("era-countdown",{staticClass:"countdown",attrs:{"translation-key":"soraStaking.withdraw.countdownLeft","target-era":s.era}})],1)])})),1),a("s-card",{staticClass:"information",attrs:{shadow:"always",primary:""}},[a("div",{staticClass:"information-content"},[a("div",{staticClass:"information-text"},[t._v(" "+t._s(t.t("soraStaking.allWithdrawsDialog.information"))+" ")]),a("div",{staticClass:"information-icon"},[a("s-icon",{attrs:{name:"notifications-alert-triangle-24",size:"20px"}})],1)])])],1)])}),[],!1,null,"40cde055",null).exports}}]);