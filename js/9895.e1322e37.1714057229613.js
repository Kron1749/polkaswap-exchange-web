"use strict";(self.webpackChunkpolkaswap_exchange_web=self.webpackChunkpolkaswap_exchange_web||[]).push([[9895],{9895:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var s=a(23166),o=(a(70560),a(70655)),r=a(36930),l=a(22620),n=a(89445),i=a(33138),c=a(68282),u=a(74467),d=a(69781),p=a(49053),m=a(50961);let b=class extends((0,n.Wr)(i.Z)){constructor(...t){super(...t),(0,s.Z)(this,"accountLiquidity",void 0),(0,s.Z)(this,"poolsData",[])}get items(){return[...this.poolsData.reduce(((t,e)=>{const{baseAssetId:a,targetAssetId:s,priceUSD:o,apy:l}=e,n=this.getAsset(a),i=this.getAsset(s);if(!n||!i)return t;const c=`${n.symbol}-${i.symbol}`,u=r.FPNumber.fromCodecValue(e.baseAssetReserves??0,n.decimals),d=r.FPNumber.fromCodecValue(e.targetAssetReserves??0,i.decimals),p=d.mul(o).mul(r.FPNumber.TWO),b=[{asset:n,balance:(0,m.Gc)(u)},{asset:i,balance:(0,m.Gc)(d)}],g=this.accountLiquidity.find((t=>t.firstAddress===n.address&&t.secondAddress===i.address)),f=[{asset:n,balance:(0,m.Gc)(r.FPNumber.fromCodecValue(g?.firstBalance??0))},{asset:i,balance:(0,m.Gc)(r.FPNumber.fromCodecValue(g?.secondBalance??0))}];return t.push({name:c,baseAsset:n,targetAsset:i,priceUSD:o.toNumber(),priceUSDFormatted:o.toLocaleString(),apy:l.toNumber(),apyFormatted:(0,m.Gc)(l,!0),tvl:p.toNumber(),tvlFormatted:(0,m.kF)(p),isAccountItem:!!g,accountTokens:f,poolTokens:b}),t}),[])].sort(((t,e)=>(0,m.s$)({baseAsset:t.baseAsset,poolAsset:t.targetAsset},{baseAsset:e.baseAsset,poolAsset:e.targetAsset})))}get prefilteredItems(){return this.isAccountItemsOnly?this.items.filter((t=>t.isAccountItem)):this.items}async updateExploreData(){await this.withLoading((async()=>{await this.withParentLoading((async()=>{this.poolsData=Object.freeze(await(0,u.eJ)(this.allowedAssets))}))}))}};(0,o.__decorate)([p.SB.pool.accountLiquidity],b.prototype,"accountLiquidity",void 0),b=(0,o.__decorate)([(0,n.wA)({components:{PairTokenLogo:(0,d.kF)(c.z8.PairTokenLogo),SortButton:(0,d.kF)(c.z8.SortButton),DataRowSkeleton:(0,d.kF)(c.z8.DataRowSkeleton),TokenLogo:l.wx.TokenLogo,FormattedAmount:l.wx.FormattedAmount,HistoryPagination:l.wx.HistoryPagination}})],b);var g=b,f=(0,a(1001).Z)(g,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("s-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingState,expression:"loadingState"}],ref:"table",staticClass:"explore-table",attrs:{data:t.tableItems,"highlight-current-row":!1,size:"small"}},[e("s-table-column",{attrs:{width:"240",label:"#"},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"explore-table-item-index"},[e("span",{class:["explore-table-item-index--head",{active:t.isDefaultSort}],on:{click:t.handleResetSort}},[t._v(" # ")])]),e("div",{staticClass:"explore-table-item-logo"},[e("s-icon",{staticClass:"explore-table-item-logo--head",attrs:{name:"various-bone-24",size:"14px"}})],1),e("div",{staticClass:"explore-table-item-info explore-table-item-info--head"},[e("span",{staticClass:"explore-table__primary"},[t._v(t._s(t.t("nameText")))])])]},proxy:!0},{key:"default",fn:function({$index:a,row:s}){return[e("span",{staticClass:"explore-table-item-index explore-table-item-index--body"},[t._v(t._s(a+t.startIndex+1))]),e("pair-token-logo",{staticClass:"explore-table-item-logo",attrs:{"first-token":s.baseAsset,"second-token":s.targetAsset,size:"small"}}),e("div",{staticClass:"explore-table-item-info explore-table-item-info--body"},[e("div",{staticClass:"explore-table-item-name"},[t._v(t._s(s.baseAsset.symbol)+"-"+t._s(s.targetAsset.symbol))])])]}}])}),e("s-table-column",{attrs:{width:"130","header-align":"right",align:"right"},scopedSlots:t._u([{key:"header",fn:function(){return[e("sort-button",{attrs:{name:"priceUSD",sort:{order:t.order,property:t.property}},on:{"change-sort":t.changeSort}},[e("span",{staticClass:"explore-table__primary"},[t._v("Price")])])]},proxy:!0},{key:"default",fn:function({row:a}){return[e("formatted-amount",{staticClass:"explore-table-item-price",attrs:{"is-fiat-value":"","fiat-default-rounding":"","font-weight-rate":t.FontWeightRate.MEDIUM,value:a.priceUSDFormatted}})]}}])}),e("s-table-column",{attrs:{width:"120","header-align":"right",align:"right"},scopedSlots:t._u([{key:"header",fn:function(){return[e("sort-button",{attrs:{name:"apy",sort:{order:t.order,property:t.property}},on:{"change-sort":t.changeSort}},[e("span",{staticClass:"explore-table__primary"},[t._v("APY")])])]},proxy:!0},{key:"default",fn:function({row:a}){return[e("span",{staticClass:"explore-table__accent"},[t._v(t._s(a.apyFormatted))])]}}])}),t.isLoggedIn?e("s-table-column",{key:"logged",attrs:{width:"140","header-align":"right",align:"right"},scopedSlots:t._u([{key:"header",fn:function(){return[e("span",{staticClass:"explore-table__primary"},[t._v(t._s(t.t("balanceText")))])]},proxy:!0},{key:"default",fn:function({row:a}){return[e("div",{staticClass:"explore-table-item-tokens"},t._l(a.accountTokens,(function({asset:a,balance:s},o){return e("div",{key:o,staticClass:"explore-table-cell"},[e("formatted-amount",{staticClass:"explore-table-item-token",attrs:{"value-can-be-hidden":"","font-size-rate":t.FontSizeRate.SMALL,value:s}}),e("token-logo",{staticClass:"explore-table-item-logo explore-table-item-logo--plain",attrs:{size:"small",token:a}})],1)})),0)]}}],null,!1,2195178740)}):t._e(),e("s-table-column",{attrs:{width:"200","header-align":"right",align:"right"},scopedSlots:t._u([{key:"header",fn:function(){return[e("span",{staticClass:"explore-table__primary"},[t._v("Pool Tokens")])]},proxy:!0},{key:"default",fn:function({row:a}){return[e("div",{staticClass:"explore-table-item-tokens"},t._l(a.poolTokens,(function({asset:a,balance:s},o){return e("div",{key:o,staticClass:"explore-table-cell"},[e("formatted-amount",{staticClass:"explore-table-item-token",attrs:{"font-size-rate":t.FontSizeRate.SMALL,value:s}}),e("token-logo",{staticClass:"explore-table-item-logo explore-table-item-logo--plain",attrs:{size:"small",token:a}})],1)})),0)]}}])}),e("s-table-column",{key:"tvl",attrs:{width:"104","header-align":"right",align:"right"},scopedSlots:t._u([{key:"header",fn:function(){return[e("sort-button",{attrs:{name:"tvl",sort:{order:t.order,property:t.property}},on:{"change-sort":t.changeSort}},[e("span",{staticClass:"explore-table__primary"},[t._v(t._s(t.TranslationConsts.TVL))]),e("s-tooltip",{attrs:{"border-radius":"mini",content:t.t("tooltips.tvl")}},[e("s-icon",{attrs:{name:"info-16",size:"14px"}})],1)],1)]},proxy:!0},{key:"default",fn:function({row:a}){return[e("data-row-skeleton",{attrs:{loading:!t.pricesAvailable,rect:""}},[e("formatted-amount",{staticClass:"explore-table-item-price explore-table-item-amount",attrs:{"is-fiat-value":"","font-weight-rate":t.FontWeightRate.MEDIUM,value:a.tvlFormatted.amount}},[t._v(" "+t._s(a.tvlFormatted.suffix)+" ")])],1)]}}])})],1),e("history-pagination",{staticClass:"explore-table-pagination",attrs:{"current-page":t.currentPage,"page-amount":t.pageAmount,total:t.total,"last-page":t.lastPage,loading:t.loadingState},on:{"pagination-click":t.handlePaginationClick}})],1)}),[],!1,null,null,null).exports}}]);