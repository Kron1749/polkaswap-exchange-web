"use strict";(self.webpackChunkpolkaswap_exchange_web=self.webpackChunkpolkaswap_exchange_web||[]).push([[6968,7719],{37140:function(o,t,i){i.r(t),i.d(t,{default:function(){return g}});var e=i(23166),n=(i(70560),i(70655)),a=i(22620),s=i(89445),r=i(37098),p=i(21329),l=i(32594),c=i(68282),y=i(69781),d=i(49053);let h=class extends((0,s.Wr)(a.tA.TranslationMixin,r.Z)){constructor(...o){super(...o),(0,e.Z)(this,"bridgeTransactionData",void 0),(0,e.Z)(this,"startBridgeButtonVisibility",void 0),(0,e.Z)(this,"libraryTheme",void 0),(0,e.Z)(this,"isLoggedIn",void 0),(0,e.Z)(this,"moonpayEnabled",void 0),(0,e.Z)(this,"x1Enabled",void 0),(0,e.Z)(this,"setMoonpayVisibility",void 0),(0,e.Z)(this,"showX1Dialog",!1),(0,e.Z)(this,"showErrorInfoBanner",!1)}get hasPendingTx(){return this.startBridgeButtonVisibility&&!!this.bridgeTransactionData}get computedCounterClass(){const o=["pay-options__purchase-count"];return this.hasPendingTx&&o.push("pay-options__purchase-count--pending"),o.join(" ")}get moonpayTextBtn(){return this.isSoraAccountConnected?this.t("fiatPayment.moonpayTitle"):this.t("connectWalletText")}get x1TextBtn(){return this.isSoraAccountConnected?this.t("fiatPayment.x1Btn"):this.t("connectWalletText")}openFiatTxHistory(){(0,y.WF)(c.sn.FiatTxHistory)}openX1(){if(!this.isSoraAccountConnected)return this.connectSoraWallet();this.showX1Dialog=!0}showErrorMessage(){this.showErrorInfoBanner=!0}openMoonpayDialog(){return this.moonpayEnabled?this.isSoraAccountConnected?this.evmAddress?void this.setMoonpayVisibility(!0):this.connectEvmWallet():this.connectSoraWallet():this.showErrorMessage()}beforeDestroy(){this.disconnectExternalNetwork()}};(0,n.__decorate)([d.SB.moonpay.bridgeTransactionData],h.prototype,"bridgeTransactionData",void 0),(0,n.__decorate)([d.SB.moonpay.startBridgeButtonVisibility],h.prototype,"startBridgeButtonVisibility",void 0),(0,n.__decorate)([d.Yn.libraryTheme],h.prototype,"libraryTheme",void 0),(0,n.__decorate)([d.Yn.wallet.account.isLoggedIn],h.prototype,"isLoggedIn",void 0),(0,n.__decorate)([d.Yn.settings.moonpayEnabled],h.prototype,"moonpayEnabled",void 0),(0,n.__decorate)([d.Yn.settings.x1Enabled],h.prototype,"x1Enabled",void 0),(0,n.__decorate)([d.QF.moonpay.setDialogVisibility],h.prototype,"setMoonpayVisibility",void 0),h=(0,n.__decorate)([(0,s.wA)({components:{DialogBase:a.wx.DialogBase,X1Dialog:(0,y.kF)(c.z8.X1Dialog),Moonpay:(0,y.kF)(c.z8.Moonpay),MoonpayNotification:(0,y.kF)(c.z8.MoonpayNotification),MoonpayConfirmation:(0,y.kF)(c.z8.MoonpayConfirmation),PaymentError:(0,y.kF)(c.z8.PaymentErrorDialog),SelectProviderDialog:(0,y.kF)(c.z8.SelectProviderDialog),MoonpayLogo:p.default,X1exLogo:l.default}})],h);var _=h,g=(0,i(1001).Z)(_,(function(){var o=this,t=o._self._c;o._self._setupProxy;return t("div",{staticClass:"container"},[t("div",{staticClass:"pay-options"},[t("div",{staticClass:"pay-options__option pay-options-moonpay"},[t("moonpay-logo",{attrs:{theme:o.libraryTheme}}),t("h4",[o._v(o._s(o.t("fiatPayment.moonpayTitle")))]),t("span",[o._v(o._s(o.t("fiatPayment.moonpayDesc")))]),t("s-button",{attrs:{type:"primary"},on:{click:o.openMoonpayDialog}},[o._v(o._s(o.moonpayTextBtn))])],1),o.x1Enabled?t("div",{staticClass:"pay-options__option pay-options-x1"},[t("x1ex-logo",{attrs:{theme:o.libraryTheme}}),t("h4",[o._v(o._s(o.t("fiatPayment.x1Title")))]),t("span",[o._v(o._s(o.t("fiatPayment.x1Desc")))]),t("s-button",{attrs:{type:"primary"},on:{click:o.openX1}},[o._v(o._s(o.x1TextBtn))])],1):o._e(),o.isLoggedIn?t("div",{staticClass:"pay-options__history-btn",on:{click:o.openFiatTxHistory}},[t("span",[o._v(o._s(o.t("fiatPayment.historyBtn")))]),t("div",[t("span",{class:o.computedCounterClass},[o._v(o._s(+o.hasPendingTx))]),t("s-icon",{attrs:{name:"arrows-chevron-right-rounded-24",size:"18"}})],1)]):o._e()]),t("x1-dialog",{attrs:{visible:o.showX1Dialog},on:{error:o.showErrorMessage,"update:visible":function(t){o.showX1Dialog=t}}}),o.moonpayEnabled?[t("moonpay"),t("moonpay-notification"),t("moonpay-confirmation"),t("select-provider-dialog")]:o._e(),t("payment-error",{attrs:{visible:o.showErrorInfoBanner},on:{"update:visible":function(t){o.showErrorInfoBanner=t}}})],2)}),[],!1,null,"11e0b8f3",null).exports}}]);