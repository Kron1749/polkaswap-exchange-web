"use strict";(self.webpackChunkpolkaswap_exchange_web=self.webpackChunkpolkaswap_exchange_web||[]).push([[3378,9904],{1628:function(e,t,o){o.r(t),o.d(t,{default:function(){return m}});var n=o(23166),s=o(70655),a=o(89445),i=o(89334),d=o(21185),r=o(68282),l=o(11628),c=o(49491),u=o(40613),p=o(25108);let h=class extends((0,a.Wr)(i.Z)){constructor(...e){var t;super(...e),(0,n.Z)(this,"handleBack",void 0),(0,n.Z)(this,"handleNode",void 0),(0,n.Z)(this,"removeNode",void 0),(0,n.Z)(this,"node",void 0),(0,n.Z)(this,"existing",void 0),(0,n.Z)(this,"removable",void 0),(0,n.Z)(this,"connected",void 0),(0,n.Z)(this,"showTutorial",void 0),(0,n.Z)(this,"disabled",void 0),(0,n.Z)(this,"nodeAddressConnecting",void 0),(0,n.Z)(this,"nodeNameInput",void 0),(0,n.Z)(this,"tutorialLink",r.yX.nodes.tutorial),(0,n.Z)(this,"validationRules",{name:[{required:!0,message:this.t("selectNodeDialog.messages.emptyName"),trigger:"blur"}],address:[{validator:(t=this.t,(e,o,n)=>{if(!o)return n(new Error(t("selectNodeDialog.messages.emptyAddress")));if(!l.JD.test(o))return n(new Error(t("selectNodeDialog.messages.incorrectProtocol")));const s=o.replace(l.JD,"");if(!l.FG.test(s)&&!l.oY.test(s))return n(new Error(t("selectNodeDialog.messages.incorrectAddress")));n()}),trigger:"blur"}]}),(0,n.Z)(this,"nodeModel",{...c.X})}created(){this.nodeModel=Object.keys(c.X).reduce(((e,t)=>({...e,[t]:this.node[t]??c.X[t]})),{})}async mounted(){await this.$nextTick();const e=this.$parent?.$parent;e?.computeTop?.(),this.inputDisabled||this.nodeNameInput?.focus?.()}get formattedLocation(){return this.existing&&this.node?.location?(0,u.T)(this.node.location):null}get inputDisabled(){return this.existing&&!this.removable}get buttonText(){return this.existing?this.nodeDataChanged?this.t("selectNodeDialog.updateNode"):this.connected?this.t("selectNodeDialog.connected"):this.t("selectNodeDialog.select"):this.t("selectNodeDialog.addNode")}get buttonDisabled(){return this.disabled||this.connected&&!this.nodeDataChanged}get buttonType(){return this.nodeDataChanged||!this.existing?"primary":"tertiary"}get title(){const e=this.t("selectNodeDialog.customNode");return this.existing&&(this.node.chain||this.node.name)||e}get loading(){return!!this.nodeAddressConnecting&&this.nodeModel.address===this.nodeAddressConnecting}get nodeDataChanged(){return this.nodeModel.name!==this.node.name||this.nodeModel.address!==this.node.address}changeNodeAddress(e){this.nodeModel.address=e.trim().toLowerCase()}async submitForm(){try{await this.$refs.nodeForm.validate();const t={...this.nodeModel,address:(e=this.nodeModel.address,"/"===e.charAt(e.length-1)?e.slice(0,-1):e)};this.handleNode(t,!this.existing||this.nodeDataChanged)}catch(e){p.warn(e)}var e}};(0,s.__decorate)([(0,a.fI)({default:()=>{},type:Function})],h.prototype,"handleBack",void 0),(0,s.__decorate)([(0,a.fI)({default:()=>{},type:Function})],h.prototype,"handleNode",void 0),(0,s.__decorate)([(0,a.fI)({default:()=>{},type:Function})],h.prototype,"removeNode",void 0),(0,s.__decorate)([(0,a.fI)({default:()=>({}),type:Object})],h.prototype,"node",void 0),(0,s.__decorate)([(0,a.fI)({default:!1,type:Boolean})],h.prototype,"existing",void 0),(0,s.__decorate)([(0,a.fI)({default:!1,type:Boolean})],h.prototype,"removable",void 0),(0,s.__decorate)([(0,a.fI)({default:!1,type:Boolean})],h.prototype,"connected",void 0),(0,s.__decorate)([(0,a.fI)({default:!1,type:Boolean})],h.prototype,"showTutorial",void 0),(0,s.__decorate)([(0,a.fI)({default:!1,type:Boolean})],h.prototype,"disabled",void 0),(0,s.__decorate)([(0,a.fI)({default:"",type:String})],h.prototype,"nodeAddressConnecting",void 0),(0,s.__decorate)([(0,a.Rl)("nodeNameInput")],h.prototype,"nodeNameInput",void 0),h=(0,s.__decorate)([(0,a.wA)({components:{GenericPageHeader:d.default}})],h);var g=h,f=(0,o(1001).Z)(g,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("s-form",{ref:"nodeForm",staticClass:"node-info s-flex",attrs:{model:e.nodeModel,rules:e.validationRules},nativeOn:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[t("generic-page-header",{staticClass:"node-info-title",attrs:{"has-button-back":"",title:e.title},on:{back:function(t){return t.stopPropagation(),e.handleBack.apply(null,arguments)}}},[e.existing&&e.removable?[t("s-button",{attrs:{type:"action",icon:"basic-trash-24"},on:{click:function(t){return e.removeNode(e.nodeModel)}}})]:e._e()],2),t("s-form-item",{attrs:{prop:"name"}},[t("s-input",{ref:"nodeNameInput",staticClass:"node-info-input s-typography-input-field",attrs:{placeholder:e.t("nameText"),maxlength:128,disabled:e.inputDisabled},model:{value:e.nodeModel.name,callback:function(t){e.$set(e.nodeModel,"name",t)},expression:"nodeModel.name"}})],1),t("s-form-item",{attrs:{prop:"address"}},[t("s-input",{staticClass:"node-info-input s-typography-input-field",attrs:{placeholder:e.t("addressText"),disabled:e.inputDisabled},on:{change:e.changeNodeAddress},model:{value:e.nodeModel.address,callback:function(t){e.$set(e.nodeModel,"address",t)},expression:"nodeModel.address"}})],1),e.formattedLocation?t("s-form-item",{attrs:{prop:"location"}},[t("div",{staticClass:"node-info-input location-input s-typography-input-field"},[t("span",{staticClass:"location-input__placeholder"},[e._v(e._s(e.t("locationText")))]),t("span",{staticClass:"location-input__value"},[e._v(" "+e._s(e.formattedLocation.name)+" "),t("span",{staticClass:"flag-emodji"},[e._v(e._s(e.formattedLocation.flag))])])])]):e._e(),t("s-button",{staticClass:"node-info-button s-typography-button--large",attrs:{"native-type":"submit",type:e.buttonType,disabled:e.buttonDisabled,loading:e.loading}},[e._v(" "+e._s(e.buttonText)+" ")]),e.showTutorial?t("a",{staticClass:"node-info-button",attrs:{href:e.tutorialLink,tabindex:"-1",target:"_blank",rel:"noreferrer noopener"}},[t("s-button",{staticClass:"node-info-tutorial-button s-typography-button--big",attrs:{type:"tertiary",icon:"question-circle-16","icon-position":"right"}},[e._v(" "+e._s(e.t("selectNodeDialog.howToSetupOwnNode"))+" ")])],1):e._e()],1)}),[],!1,null,"02d0cc16",null),m=f.exports}}]);