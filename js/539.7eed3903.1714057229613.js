"use strict";(self.webpackChunkpolkaswap_exchange_web=self.webpackChunkpolkaswap_exchange_web||[]).push([[539],{68738:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var i=a(23166),o=a(70655),r=a(22620),s=a(89445),n=a(49053),d=a(88883);class l{static getWidget(e){return e===r.WALLET_CONSTS.SoraNetwork.Prod?{sdkUrl:"https://x1ex.com/widgets/sdk.js",widgetId:d.ZP.getters.settings.x1ApiKey}:{sdkUrl:"https://dev.x1ex.com/widgets/sdk.js",widgetId:d.ZP.getters.settings.x1ApiKey}}}let c=class extends((0,s.Wr)(r.tA.DialogMixin,r.tA.LoadingMixin,r.tA.TranslationMixin)){constructor(...e){super(...e),(0,i.Z)(this,"euroBalance",void 0),(0,i.Z)(this,"soraNetwork",void 0),(0,i.Z)(this,"accountAddress",void 0),(0,i.Z)(this,"X1Widget",{sdkUrl:"",widgetId:""}),(0,i.Z)(this,"showErrorInfoBanner",!1),(0,i.Z)(this,"loadingX1",!1)}handleVisibleStateChange(e){e?this.loadX1():(this.unloadX1(),this.loadingX1=!0)}checkEnvConfig(e){e&&(this.X1Widget=l.getWidget(e))}get restEuroToDeposit(){return 100-parseInt(this.euroBalance,10)}get widgetId(){return this.X1Widget.widgetId}get blockchainSymbol(){return this.soraNetwork===r.WALLET_CONSTS.SoraNetwork.Prod?"XOR":"TXOR"}async loadX1(){try{await r.Wr.load(this.X1Widget.sdkUrl,!1)}catch{this.showErrorInfoBanner=!0,this.loadingX1=!1}finally{this.loadingX1=!1}}unloadX1(){r.Wr.unload(this.X1Widget.sdkUrl,!1).catch((()=>{}))}};(0,o.__decorate)([n.SB.soraCard.euroBalance],c.prototype,"euroBalance",void 0),(0,o.__decorate)([n.SB.wallet.settings.soraNetwork],c.prototype,"soraNetwork",void 0),(0,o.__decorate)([n.Yn.soraCard.accountAddress],c.prototype,"accountAddress",void 0),(0,o.__decorate)([(0,s.RL)("isVisible",{immediate:!0})],c.prototype,"handleVisibleStateChange",null),(0,o.__decorate)([(0,s.RL)("soraNetwork",{immediate:!0})],c.prototype,"checkEnvConfig",null),c=(0,o.__decorate)([(0,s.wA)({components:{DialogBase:r.wx.DialogBase}})],c);var g=c,h=(0,a(1001).Z)(g,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("dialog-base",{staticClass:"x1-dialog",attrs:{visible:e.isVisible},on:{"update:visible":function(t){e.isVisible=t}}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingX1,expression:"loadingX1"}],staticClass:"wrapper"},[e.showErrorInfoBanner?t("div",{staticClass:"x1-error-info-banner"},[t("s-icon",{staticClass:"x1-error-info-banner__icon",attrs:{name:"basic-clear-X-24",size:"64px"}}),t("h4",{staticClass:"x1-error-info-banner__header"},[e._v("The payment widget is currently unavailable")]),t("p",{staticClass:"x1-error-info-banner__text"},[e._v(" Apologies for the inconvenience. We're working diligently to resolve this. Please, try again later. ")]),t("s-button",{staticClass:"x1-error-info-banner__btn s-typography-button--large",attrs:{type:"primary",disabled:e.loading},on:{click:e.closeDialog}},[e._v(" "+e._s(e.t("browserNotificationDialog.agree"))+" ")])],1):t("div",{attrs:{id:e.widgetId,"data-from-currency":"EUR","data-locale":"en","data-to-blockchain":e.blockchainSymbol,"data-address":e.accountAddress,"data-from-amount":e.restEuroToDeposit,"data-hide-buy-more-button":!0,"data-hide-try-again-button":!1,"data-disable-to-blockchain":!0}})])])}),[],!1,null,"a916a64c",null).exports}}]);