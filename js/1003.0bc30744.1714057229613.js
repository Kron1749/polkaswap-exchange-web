"use strict";(self.webpackChunkpolkaswap_exchange_web=self.webpackChunkpolkaswap_exchange_web||[]).push([[1003],{1003:function(t,e,o){o.r(e),o.d(e,{default:function(){return h}});var s=o(23166),a=(o(70560),o(70655)),i=o(22620),n=o(89445),l=o(95619),d=o(89334),r=o(68282),c=o(69781),u=o(49053),p=o(50961);let m=class extends((0,n.Wr)(i.tA.FormattedAmountMixin,i.tA.LoadingMixin,d.Z,l.Z)){constructor(...t){super(...t),(0,s.Z)(this,"FontSizeRate",i.WALLET_CONSTS.FontSizeRate),(0,s.Z)(this,"FontWeightRate",i.WALLET_CONSTS.FontWeightRate),(0,s.Z)(this,"accountLiquidity",void 0),(0,s.Z)(this,"isLoggedIn",void 0),(0,s.Z)(this,"getAsset",void 0),(0,s.Z)(this,"whitelistIdsBySymbol",void 0),(0,s.Z)(this,"activeCollapseItems",[])}get accountLiquidityData(){return[...this.accountLiquidity.map((t=>{const e=this.getAsset(t.firstAddress),o=this.getAssetSymbol(e),s=this.getAsset(t.secondAddress),a=this.getAssetSymbol(s);return{...t,firstAsset:e,firstAssetSymbol:o,firstBalanceFormatted:this.formatCodecNumber(t.firstBalance,t.decimals),firstBalanceFiat:e?this.getFiatAmountByCodecString(t.firstBalance,e):"0",secondAsset:s,secondAssetSymbol:a,secondBalanceFormatted:this.formatCodecNumber(t.secondBalance,t.decimals),secondBalanceFiat:s?this.getFiatAmountByCodecString(t.secondBalance,s):"0",poolShareFormatted:`${this.formatStringValue(t.poolShare)}%`,apyFormatted:this.getStrategicBonusApy(t.firstAddress,t.secondAddress),title:this.getPairTitle(o,a)}}))].sort(((t,e)=>(0,p.s$)({baseAsset:t.firstAsset,poolAsset:t.secondAsset},{baseAsset:e.firstAsset,poolAsset:e.secondAsset})))}updateActiveCollapseItems(t){this.activeCollapseItems=t}getRouteParams(t){const e=t.firstAssetSymbol??"",o=t.secondAssetSymbol??"";return{first:this.whitelistIdsBySymbol[e]?e:t.firstAddress,second:this.whitelistIdsBySymbol[o]?o:t.secondAddress}}handleAddLiquidity(t){t?c.ZP.push({name:r.sn.AddLiquidity,params:this.getRouteParams(t)}):c.ZP.push({name:r.sn.AddLiquidity})}handleRemoveLiquidity(t){c.ZP.push({name:r.sn.RemoveLiquidity,params:this.getRouteParams(t)})}handleConnectWallet(){c.ZP.push({name:r.sn.Wallet})}getAssetSymbol(t){return t?.symbol??this.t("unknownAssetText")}getPairTitle(t,e){return t&&e?`${t}-${e}`:""}getStrategicBonusApy(t,e){const o=this.getPoolApy(t,e);return o?`${this.getFPNumberFromCodec(o).mul(this.Hundred).toLocaleString()}%`:""}};(0,a.__decorate)([u.SB.pool.accountLiquidity],m.prototype,"accountLiquidity",void 0),(0,a.__decorate)([u.Yn.wallet.account.isLoggedIn],m.prototype,"isLoggedIn",void 0),(0,a.__decorate)([u.Yn.assets.assetDataByAddress],m.prototype,"getAsset",void 0),(0,a.__decorate)([u.Yn.wallet.account.whitelistIdsBySymbol],m.prototype,"whitelistIdsBySymbol",void 0),m=(0,a.__decorate)([(0,n.wA)({components:{GenericPageHeader:(0,c.kF)(r.z8.GenericPageHeader),PairTokenLogo:(0,c.kF)(r.z8.PairTokenLogo),PoolInfo:(0,c.kF)(r.z8.PoolInfo),FormattedAmount:i.wx.FormattedAmount,InfoLine:i.wx.InfoLine}})],m);var y=m,h=(0,o(1001).Z)(y,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.parentLoading,expression:"parentLoading"}],staticClass:"container el-form--pool"},[e("generic-page-header",{staticClass:"page-header--pool",attrs:{title:t.t("exchange.Pool"),tooltip:t.t("pool.description")}}),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.parentLoading,expression:"parentLoading"}],staticClass:"pool-wrapper",attrs:{"data-test-name":"Pools"}},[t.isLoggedIn?!t.accountLiquidity.length||t.parentLoading?e("p",{key:"pools-empty",staticClass:"pool-info-container pool-info-container--empty"},[t._v(" "+t._s(t.t("pool.liquidityNotFound"))+" ")]):e("s-collapse",{key:"has-pools",staticClass:"pool-list",attrs:{borders:!0},on:{change:t.updateActiveCollapseItems}},t._l(t.accountLiquidityData,(function(o){return e("s-collapse-item",{key:o.address,staticClass:"pool-info-container",attrs:{name:o.address},scopedSlots:t._u([{key:"title",fn:function(){return[e("pair-token-logo",{attrs:{"first-token":o.firstAsset,"second-token":o.secondAsset,size:"small"}}),e("div",{staticClass:"pool-info-container-block"},[e("h3",{staticClass:"pool-info-container__title"},[t._v(" "+t._s(o.title)+" ")]),t._t("title-append",null,null,{liquidity:o,activeCollapseItems:t.activeCollapseItems})],2)]},proxy:!0}],null,!0)},[e("pool-info",{scopedSlots:t._u([{key:"buttons",fn:function(){return[e("s-button",{staticClass:"s-typography-button--medium",attrs:{type:"secondary","data-test-name":"addLiquidity"},on:{click:function(e){return t.handleAddLiquidity(o)}}},[t._v(" "+t._s(t.t("pool.addLiquidity"))+" ")]),e("s-button",{staticClass:"s-typography-button--medium",attrs:{type:"secondary","data-test-name":"removeLiquidity"},on:{click:function(e){return t.handleRemoveLiquidity(o)}}},[t._v(" "+t._s(t.t("pool.removeLiquidity"))+" ")])]},proxy:!0}],null,!0)},[e("info-line",{attrs:{"is-formatted":"","value-can-be-hidden":"",label:t.t("pool.pooledToken",{tokenSymbol:o.firstAssetSymbol}),value:o.firstBalanceFormatted,"fiat-value":o.firstBalanceFiat}}),e("info-line",{attrs:{"is-formatted":"","value-can-be-hidden":"",label:t.t("pool.pooledToken",{tokenSymbol:o.secondAssetSymbol}),value:o.secondBalanceFormatted,"fiat-value":o.secondBalanceFiat}}),e("info-line",{attrs:{"value-can-be-hidden":"",label:t.t("pool.poolShare"),value:o.poolShareFormatted}}),o.apyFormatted?e("info-line",{attrs:{label:t.t("pool.strategicBonusApy"),value:o.apyFormatted}}):t._e()],1),t._t("append",null,null,{liquidity:o,activeCollapseItems:t.activeCollapseItems})],2)})),1):e("p",{key:"not-logged",staticClass:"pool-info-container pool-info-container--empty"},[t._v(" "+t._s(t.t("pool.connectToWallet"))+" ")])],1),t.isLoggedIn?e("s-button",{staticClass:"el-button--add-liquidity s-typography-button--large",attrs:{"data-test-name":"addLiquidity",type:"primary"},on:{click:function(e){return t.handleAddLiquidity()}}},[t._v(" "+t._s(t.t("pool.addLiquidity"))+" ")]):e("s-button",{staticClass:"s-typography-button--large",attrs:{type:"primary"},on:{click:t.handleConnectWallet}},[t._v(" "+t._s(t.t("connectWalletText"))+" ")])],1)}),[],!1,null,"a788a708",null).exports}}]);