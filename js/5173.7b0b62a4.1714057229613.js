"use strict";(self.webpackChunkpolkaswap_exchange_web=self.webpackChunkpolkaswap_exchange_web||[]).push([[5173],{55173:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var o=s(23166),r=s(70655),i=s(22620),d=s(77606),a=s.n(d),n=s(89445),c=s(57478),u=s(89334),k=s(68282),l=s(69781),h=s(49053);let b=class extends((0,n.Wr)(u.Z,i.tA.LoadingMixin,c.Z)){constructor(...t){super(...t),(0,o.Z)(this,"orderBooks",void 0),(0,o.Z)(this,"responsiveClass",void 0),(0,o.Z)(this,"orderBookEnabled",void 0),(0,o.Z)(this,"orderBookId",void 0),(0,o.Z)(this,"baseAsset",void 0),(0,o.Z)(this,"quoteAsset",void 0),(0,o.Z)(this,"setCurrentOrderBook",void 0),(0,o.Z)(this,"getOrderBooksInfo",void 0),(0,o.Z)(this,"subscribeToOrderBookStats",void 0),(0,o.Z)(this,"unsubscribeFromOrderBookStats",void 0),(0,o.Z)(this,"unsubscribeFromBidsAndAsks",void 0),(0,o.Z)(this,"settingsVisibility",!1)}updateSubscription(){this.subscribeToOrderBookStats(),this.firstRouteAddress&&this.secondRouteAddress&&this.baseAsset?.address!==this.firstRouteAddress&&this.updateRouteAfterSelectTokens(this.baseAsset,this.quoteAsset)}checkAvailability(t){!1===t&&(0,l.WF)(k.sn.Swap)}get isScreenHuge(){return this.responsiveClass===k.zB.HugeDesktop}async setData(t){a()(this.orderBooks)&&await this.getOrderBooksInfo();const e=Object.values(this.orderBooks).find((({orderBookId:e})=>e.base===t.firstAddress&&e.quote===t.secondAddress));e&&this.setCurrentOrderBook(e.orderBookId)}created(){this.withApi((async()=>{if(await this.getOrderBooksInfo(),this.orderBookId)return void this.updateRouteAfterSelectTokens(this.baseAsset,this.quoteAsset);const t=Object.values(this.orderBooks);if(this.parseCurrentRoute(),this.isValidRoute&&this.firstRouteAddress&&this.secondRouteAddress){const e=t.find((({orderBookId:t})=>t.base===this.firstRouteAddress&&t.quote===this.secondRouteAddress));e&&this.setCurrentOrderBook(e.orderBookId)}if(!this.orderBookId){const e=t[0];e&&(this.setCurrentOrderBook(e.orderBookId),this.updateRouteAfterSelectTokens(this.baseAsset,this.quoteAsset))}}))}beforeDestroy(){this.unsubscribeFromOrderBookStats(),this.unsubscribeFromBidsAndAsks()}};(0,r.__decorate)([h.SB.orderBook.orderBooks],b.prototype,"orderBooks",void 0),(0,r.__decorate)([h.SB.settings.screenBreakpointClass],b.prototype,"responsiveClass",void 0),(0,r.__decorate)([h.Yn.settings.orderBookEnabled],b.prototype,"orderBookEnabled",void 0),(0,r.__decorate)([h.Yn.orderBook.orderBookId],b.prototype,"orderBookId",void 0),(0,r.__decorate)([h.Yn.orderBook.baseAsset],b.prototype,"baseAsset",void 0),(0,r.__decorate)([h.Yn.orderBook.quoteAsset],b.prototype,"quoteAsset",void 0),(0,r.__decorate)([h.QF.orderBook.setCurrentOrderBook],b.prototype,"setCurrentOrderBook",void 0),(0,r.__decorate)([h.aD.orderBook.getOrderBooksInfo],b.prototype,"getOrderBooksInfo",void 0),(0,r.__decorate)([h.aD.orderBook.subscribeToOrderBookStats],b.prototype,"subscribeToOrderBookStats",void 0),(0,r.__decorate)([h.aD.orderBook.unsubscribeFromOrderBookStats],b.prototype,"unsubscribeFromOrderBookStats",void 0),(0,r.__decorate)([h.aD.orderBook.unsubscribeFromBidsAndAsks],b.prototype,"unsubscribeFromBidsAndAsks",void 0),(0,r.__decorate)([(0,n.RL)("orderBookId",{immediate:!0})],b.prototype,"updateSubscription",null),(0,r.__decorate)([(0,n.RL)("orderBookEnabled",{immediate:!0})],b.prototype,"checkAvailability",null),b=(0,r.__decorate)([(0,n.wA)({components:{BookWidget:(0,l.kF)(k.z8.BookWidget),SetLimitOrderWidget:(0,l.kF)(k.z8.SetLimitOrderWidget),HistoryOrderWidget:(0,l.kF)(k.z8.HistoryOrderWidget),BookChartsWidget:(0,l.kF)(k.z8.BookChartsWidget),MarketTradesWidget:(0,l.kF)(k.z8.MarketTradesWidget),CustomisePageWidget:(0,l.kF)(k.z8.CustomisePage)}})],b);var B=b,g=(0,s(1001).Z)(B,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[t.isScreenHuge?e("div",{staticClass:"order-book-widgets--huge"},[e("div",{staticClass:"column-1"},[e("set-limit-order-widget",{staticClass:"set-widget"}),e("customise-page-widget",{staticClass:"setting-widget",attrs:{visible:t.settingsVisibility},on:{"update:visible":function(e){t.settingsVisibility=e}}})],1),e("div",{staticClass:"column-2"},[e("book-charts-widget",{staticClass:"chart-widget"}),e("history-order-widget",{staticClass:"history-widget"})],1),e("div",{staticClass:"column-3"},[e("book-widget",{staticClass:"book-widget"}),e("market-trades-widget",{staticClass:"trades-widget"})],1)]):e("div",{staticClass:"order-book-widgets"},[e("div",{staticClass:"column-1"},[e("book-charts-widget",{staticClass:"chart-widget"})],1),e("div",{staticClass:"column-2"},[e("set-limit-order-widget",{staticClass:"set-widget"}),e("book-widget",{staticClass:"book-widget"})],1),e("div",{staticClass:"column-3"},[e("history-order-widget",{staticClass:"history-widget"}),e("market-trades-widget",{staticClass:"trades-widget"})],1)])])}),[],!1,null,null,null).exports}}]);