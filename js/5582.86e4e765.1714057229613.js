"use strict";(self.webpackChunkpolkaswap_exchange_web=self.webpackChunkpolkaswap_exchange_web||[]).push([[5582,9276],{32776:function(t,e,a){a.r(e),a.d(e,{default:function(){return E}});var n=a(23166),s=(a(70560),a(70655)),o=a(36930),r=a(82753),i=a(22620),l=a(27484),d=a.n(l),c=a(89445),u=a(89334),m=a(623),h=a(68282),f=a(79934);const{IndexerType:b}=i.WALLET_CONSTS,p=[{address:"cnV21a8zn14wUTuxUK6wy5Fmus8PXaGrsBUchz33MqavYqxHE",amount:o.FPNumber.fromCodecValue("2000000000000000000000000")},{address:"cnXES5tPEMkhLmhG57v55aYW4x1DtqHFM9Ft8rBcLNyHHFVSm",amount:o.FPNumber.fromCodecValue("1000000000000000000000000")},{address:"cnTkiF9YpNT8uzwQvJFJHf7Vr3KtFppF2VGxE22C1MTMbHEmN",amount:o.FPNumber.fromCodecValue("25000000000000000000000000")},{address:"cnRdTJwjwpn67KgnWGcbBJpMipryNNos15NEFWV4sEfSnNnM6",amount:o.FPNumber.fromCodecValue("4000000000000000000000000")},{address:"cnW4cSTA6CB3zDw2kLknDwZRqPPwPDdFURN2nhHVg8C2SnrNX",amount:o.FPNumber.fromCodecValue("1000000000000000000000000")},{address:"cnTmBrrR4CFs3GDA1DjWhAMsXXAJQJwUCkFtbsRsXhXJWTB3J",amount:o.FPNumber.fromCodecValue("1000000000000000000000000")},{address:"cnTYLL7UNk9tak7gRZnZXxfor5UvMSEebBUsSLwwhyZvDdKWB",amount:o.FPNumber.fromCodecValue("1500000000000000000000000")},{address:"cnVA8S2CNn2h4CjW2vTnqnSRqEL4P2ShvPWYA46TYEdTtao3S",amount:o.FPNumber.fromCodecValue("1000000000000000000000000")},{address:"cnTdA96vs4okPqpfSaPwSCPunkEn6AYTLek6rBvP9LbXbinAh",amount:o.FPNumber.fromCodecValue("10000000000000000000000000")},{address:"cnV5d93J89p5kC4dRqF5WWtDNCk1XZ3HQo9dEhGUxBQnohxEB",amount:o.FPNumber.fromCodecValue("1500000000000000000000000")},{address:"cnV5d93J89p5kC4dRqF5WWtDNCk1XZ3HQo9dEhGUxBQnohxEB",amount:o.FPNumber.fromCodecValue("10000000000000000000000000")},{address:"cnTkiF9YpNT8uzwQvJFJHf7Vr3KtFppF2VGxE22C1MTMbHEmN",amount:o.FPNumber.fromCodecValue("1000000000000000000000000")}],v=f.Ps`
  query ($start: Int = 0, $end: Int = 0, $after: Cursor = "", $first: Int = 100) {
    data: historyElements(
      first: $first
      after: $after
      filter: {
        and: [
          { blockHeight: { greaterThanOrEqualTo: $start } }
          { blockHeight: { lessThanOrEqualTo: $end } }
          { module: { equalTo: "assets" } }
          { method: { equalTo: "burn" } }
          { data: { contains: { assetId: "0x0200000000000000000000000000000000000000000000000000000000000000" } } }
        ]
      }
    ) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        node {
          address
          data
        }
      }
    }
  }
`,k=t=>{const e=t.data;return{address:t.address,amount:new o.FPNumber(e.amount)}};var g=a(69781),C=a(49053),N=a(50961);const F="0";let w=class extends((0,c.Wr)(i.tA.LoadingMixin,i.tA.FormattedAmountMixin,u.Z)){constructor(...t){super(...t),(0,n.Z)(this,"link","https://medium.com/@shibarimoto/kensetsu-ken-356077ebee78"),(0,n.Z)(this,"xor",r.XOR),(0,n.Z)(this,"blockDuration",6e3),(0,n.Z)(this,"million",this.getFPNumber(1e6)),(0,n.Z)(this,"from",{block:14464e3,timestamp:170809728e4}),(0,n.Z)(this,"to",{block:14939200,timestamp:1710949772883}),(0,n.Z)(this,"interval",null),(0,n.Z)(this,"totalXorBurned",o.FPNumber.ZERO),(0,n.Z)(this,"accountXorBurned",o.FPNumber.ZERO),(0,n.Z)(this,"timeLeftFormatted","30D"),(0,n.Z)(this,"ended",!1),(0,n.Z)(this,"burnDialogVisible",!1),(0,n.Z)(this,"blockNumber",void 0),(0,n.Z)(this,"soraAccountAddress",void 0),(0,n.Z)(this,"soraNetwork",void 0),(0,n.Z)(this,"isLoggedIn",void 0)}get xorFormattedMillion(){return this.million.toLocaleString()}get xorFormattedFiat(){return this.getFiatAmountByFPNumber(this.million,this.xor)}get formattedTotalXorBurned(){return this.totalXorBurned?.toLocaleString()??F}get formattedTotalKenReserved(){return this.totalXorBurned?.div(this.million).toLocaleString(3)??F}get formattedAccountXorBurned(){return this.accountXorBurned?.toLocaleString()??F}get formattedAccountKenReserved(){return this.accountXorBurned?.div(this.million).toLocaleString(3)??F}get isBurnDisabled(){return this.ended}calcCountdown(){const t=(this.to.block-this.blockNumber)*this.blockDuration;if(t<=0)return this.timeLeftFormatted="0D 0H 0M",void(this.ended=!0);const e=d().duration(t);this.timeLeftFormatted=e.format("D[D] HH[H] mm[M]")}async fetchData(){const t=this.from.block,e=this.to.block,a=this.soraAccountAddress,n=await async function(t,e){const a=(0,i.HZ)();if(a.type===b.SUBQUERY){const n={start:t,end:e},s=a;return[...await s.services.explorer.fetchAllEntities(v,n,k)??[],...p]}return[]}(t,e);let s=o.FPNumber.ZERO,r=o.FPNumber.ZERO;n.forEach((t=>{t.amount.gte(this.million)&&(r=r.add(t.amount),a===t.address&&(s=s.add(t.amount)))})),this.accountXorBurned=s,this.totalXorBurned=r}fetchDataAndCalcCountdown(){this.calcCountdown(),this.fetchData()}handleConnectWallet(){g.ZP.push({name:h.sn.Wallet})}handleBurnClick(){this.burnDialogVisible=!0}async mounted(){await this.withApi((async()=>{(this.soraNetwork??await(0,N.RP)())!==i.WALLET_CONSTS.SoraNetwork.Prod&&(this.from={block:0,timestamp:0},this.to={block:1e5,timestamp:6e5}),this.fetchDataAndCalcCountdown(),this.interval=setInterval(this.fetchDataAndCalcCountdown,6e4)}))}beforeUnmount(){this.interval&&clearInterval(this.interval)}};(0,s.__decorate)([C.SB.settings.blockNumber],w.prototype,"blockNumber",void 0),(0,s.__decorate)([C.SB.wallet.account.address],w.prototype,"soraAccountAddress",void 0),(0,s.__decorate)([C.SB.wallet.settings.soraNetwork],w.prototype,"soraNetwork",void 0),(0,s.__decorate)([C.Yn.wallet.account.isLoggedIn],w.prototype,"isLoggedIn",void 0),w=(0,s.__decorate)([(0,c.wA)({components:{GenericPageHeader:(0,g.kF)(h.z8.GenericPageHeader),InfoLine:i.wx.InfoLine,ExternalLink:i.wx.ExternalLink,BurnDialog:m.default}})],w);var y=w,E=(0,a(1001).Z)(y,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"kensetsu-container s-flex-column"},[e("s-form",{directives:[{name:"loading",rawName:"v-loading",value:t.parentLoading,expression:"parentLoading"}],staticClass:"container container--kensetsu el-form--actions",attrs:{"show-message":!1}},[e("generic-page-header",{staticClass:"page-header--kensetsu",attrs:{title:"Reserve KEN by burning your XOR"}}),e("p",{staticClass:"description centered p4"},[t._v(" Burn 1M XOR (permanently remove from your wallet) on SORA for KEN in a fair launch; KEN incentivizes liquidity and is deflationary token with a status symbol appeal. 30 days only (till Mar 20 2024). ")]),e("external-link",{staticClass:"p4 link",attrs:{title:"Read more",href:t.link}}),e("info-line",{attrs:{label:"1 KEN",value:t.xorFormattedMillion,"asset-symbol":t.xor.symbol,"fiat-value":t.xorFormattedFiat,"is-formatted":""}}),e("info-line",{attrs:{label:"Time left",value:t.timeLeftFormatted}}),e("info-line",{attrs:{label:"Your reserved KEN tokens",value:t.formattedAccountKenReserved,"asset-symbol":"KEN","is-formatted":"","value-can-be-hidden":""}}),e("info-line",{attrs:{label:"Your burned XOR tokens",value:t.formattedAccountXorBurned,"asset-symbol":t.xor.symbol,"is-formatted":"","value-can-be-hidden":""}}),e("div",{staticClass:"info-card-container s-flex"},[e("div",{staticClass:"info-card-item s-flex-column"},[e("span",{staticClass:"info-card-title"},[t._v("TOTAL XOR BURNED")]),e("span",{staticClass:"info-card-value"},[t._v(" "+t._s(t.formattedTotalXorBurned)+" ")])]),e("div",{staticClass:"info-card-item s-flex-column"},[e("span",{staticClass:"info-card-title"},[t._v("TOTAL KEN RESERVED")]),e("span",{staticClass:"info-card-value"},[t._v(" "+t._s(t.formattedTotalKenReserved)+" ")])])]),t.isLoggedIn?e("s-button",{staticClass:"action-button s-typography-button--large",attrs:{type:"primary",disabled:t.isBurnDisabled,loading:t.loading||t.parentLoading},on:{click:t.handleBurnClick}},[t.ended?[t._v("TIME IS OVER")]:[t._v("BURN MY XOR")]],2):e("s-button",{staticClass:"action-button s-typography-button--large",attrs:{type:"primary"},on:{click:t.handleConnectWallet}},[t._v(" "+t._s(t.t("connectWalletText"))+" ")])],1),e("s-card",{staticClass:"kensetsu-info",attrs:{"border-radius":"small",shadow:"always",size:"medium",pressed:""}},[e("div",{staticClass:"kensetsu-info__content s-flex-column"},[e("div",{staticClass:"kensetsu-info__desc s-flex"},[e("p",{staticClass:"description p4"},[t._v(" The KEN token is a community-proposed initiative. Itâ€™s not officially endorsed by any centralized authority or organization. Participation and interaction with the KEN token should be considered with understanding of its community-driven nature. ")]),e("div",{staticClass:"kensetsu-info__badge"},[e("s-icon",{staticClass:"kensetsu-info__icon",attrs:{name:"notifications-alert-triangle-24",size:"24"}})],1)]),e("external-link",{staticClass:"p4 link",attrs:{title:"Read more",href:t.link}})],1)]),e("burn-dialog",{attrs:{visible:t.burnDialogVisible},on:{"update:visible":function(e){t.burnDialogVisible=e}}})],1)}),[],!1,null,"9b2228f2",null).exports}}]);